<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Order - Khaadi</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 text-gray-800" onload="loadOrder()">
  <nav class="bg-orange-600 text-white p-4 shadow">
    <div class="container mx-auto flex justify-between items-center">
      <h1 class="text-2xl font-bold">Khaadi</h1>
    </div>
  </nav>

  <form action="place_order.php" method="POST" class="container mx-auto px-4 py-10">
    <div class="bg-white p-6 rounded shadow-md max-w-2xl mx-auto">
      <h2 class="text-2xl font-bold text-center mb-6">Order Form</h2>

      <div class="flex flex-col md:flex-row items-center gap-6">
        <img id="productImage" src="" alt="Product" class="w-64 h-64 object-cover rounded" />
        <div>
          <h3 class="text-xl font-semibold" id="productNameDisplay"></h3>
          <p class="text-lg mt-2">Price: Rs. <span id="productPriceDisplay"></span></p>

          <!-- Hidden product data -->
          <input type="hidden" name="productName" id="productName">
          <input type="hidden" name="productPrice" id="productPrice">

          <label class="block mt-4">Quantity:</label>
          <input type="number" name="quantity" id="quantity" value="1" min="1" class="border px-3 py-1 rounded w-20" oninput="updateTotal()" required>

          <label class="block mt-4">Customer ID:</label>
          <input type="number" name="customerID" class="border px-3 py-2 rounded w-full max-w-xs" required>

          <label class="block mt-4">Order Date:</label>
          <input type="date" name="orderDate" class="border px-3 py-2 rounded w-full max-w-xs" required>

          <label class="block mt-4">Order Status:</label>
          <select name="orderStatus" class="border px-3 py-2 rounded w-full max-w-xs" required>
            <option value="Pending">Pending</option>
            <option value="Done">Done</option>
          </select>

          <label class="block mt-4">Payment Status:</label>
          <select name="paymentStatus" class="border px-3 py-2 rounded w-full max-w-xs" required>
            <option value="Pending">Pending</option>
            <option value="Done">Done</option>
          </select>

          <label class="block mt-4 font-semibold">Total Amount:</label>
          <input type="text" name="totalAmount" id="totalAmount" class="border px-3 py-2 rounded w-full max-w-xs" readonly>
        </div>
      </div>

      <div class="text-center mt-6">
        <button type="submit" class="bg-orange-600 text-white px-6 py-2 rounded hover:bg-orange-700">
          Submit Order
        </button>
      </div>
    </div>
  </form>

  <script>
    function loadOrder() {
      const name = localStorage.getItem("productName");
      const price = parseFloat(localStorage.getItem("productPrice"));
      const image = localStorage.getItem("productImage");

      document.getElementById("productNameDisplay").innerText = name;
      document.getElementById("productPriceDisplay").innerText = price;
      document.getElementById("productImage").src = image;

      document.getElementById("productName").value = name;
      document.getElementById("productPrice").value = price;

      updateTotal();
    }

    function updateTotal() {
      const qty = parseInt(document.getElementById("quantity").value) || 1;
      const price = parseFloat(document.getElementById("productPrice").value) || 0;
      const total = qty * price;
      document.getElementById("totalAmount").value = total.toFixed(2);
    }
  </script>
</body>
</html>
